@page "{cartItems?}"
@model PRN221Project.Pages.Customer.OrderModel
@{
    ViewData["Title"] = "Order";
    var cultureInfo = new System.Globalization.CultureInfo("vi-VN");
}

<div class="container card mt-5">
    <div class="row">
        <div class="col-md-8">
            <h3>Order Details</h3>
            <form method="post">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Product</th>
                            <th>Quantity</th>
                            <th>Price</th>
                            <th>Total</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.CartItems)
                        {
                            <tr>
                                <td>@item.ProductName</td>
                                <td>@item.Quantity</td>
                                <td>@item.Price.ToString("C", cultureInfo)</td>
                                <td>@((item.Price * item.Quantity).ToString("C", cultureInfo))</td>
                            </tr>
                        }
                    </tbody>
                    <tfoot>
                        <tr>
                            <th colspan="3">Grand Total</th>
                            <th>@Model.CartItems.Sum(i => i.Price * i.Quantity).ToString("C", cultureInfo)</th>
                        </tr>
                    </tfoot>
                </table>
                <button class="btn btn-success" type="submit" style="margin-bottom:2%">Confirm Order</button>
            </form>
        </div>
    </div>
</div>

<div class="py-5"></div>

}
